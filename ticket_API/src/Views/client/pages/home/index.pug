extends ../../layouts/default.pug

block content
  //- ===== HERO / BANNER =====
  div(class="bg-[#1a1a1a] pb-12")
    .container.mx-auto.px-4

      //- Banner Section
      div(class="grid grid-cols-1 md:grid-cols-2 gap-4 pt-6")
        //- Banner 1
        div(class="relative rounded-2xl overflow-hidden h-80 group")
          img(
            src="https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?w=1000"
            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
            alt="Banner 1"
          )
          div(class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent")
          div(class="absolute bottom-6 left-6")
            a(
              href="#"
              class="bg-white text-gray-900 px-6 py-2 rounded-lg font-bold text-sm hover:bg-gray-100 transition-colors"
            ) Xem chi tiết

        //- Banner 2
        div(class="relative rounded-2xl overflow-hidden h-80 group")
          img(
            src="https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=1000"
            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
            alt="Banner 2"
          )
          div(class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent")
          div(class="absolute bottom-6 left-6")
            a(
              href="#"
              class="bg-white text-gray-900 px-6 py-2 rounded-lg font-bold text-sm hover:bg-gray-100 transition-colors"
            ) Xem chi tiết

      //- ===== FEATURED EVENTS =====
      div(class="mt-12 mb-6")
        h2(class="text-2xl font-bold text-white") Sự kiện đặc biệt

      div(class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4")
        if events && events.length
          each event in events
            a(
              href=`/event/${event.id}`
              class="flex flex-col gap-3 group"
            )
              div(class="relative aspect-[4/3] rounded-2xl overflow-hidden bg-gray-800")
                img(
                  src=event.image
                  class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
                  alt=event.title
                )
              div(class="text-white")
                h3(
                  class="font-bold text-sm line-clamp-2 transition-colors group-hover:text-[#00b14f]"
                ) #{event.title}
                div(class="flex items-center gap-2 mt-2")
                  span(class="text-[10px] font-black text-[#00b14f] uppercase") #{event.category}
                  span(class="text-[10px] text-gray-400") • #{event.date}
        else
          p(class="text-gray-400 col-span-full py-10 text-center") Không có sự kiện nổi bật

  //- ===== FILTER SECTION =====
  div(class="bg-white py-12")
    .container.mx-auto.px-4
      div(class="flex items-center justify-between mb-8")
        h2(class="text-2xl font-black text-gray-900") Lọc sự kiện theo yêu cầu

      form(
        action="/"
        method="GET"
        class="bg-gray-50 p-6 rounded-3xl border border-gray-100 grid grid-cols-1 md:grid-cols-4 gap-4 items-end shadow-sm"
      )
        div
          label(class="block text-xs font-black text-gray-400 uppercase mb-2") Danh mục
          select(
            name="category"
            class="w-full p-3 rounded-xl border border-gray-200 font-bold focus:ring-2 focus:ring-[#00b14f] outline-none"
          )
            option(value="") Tất cả
            if categories
              each cat in categories
                option(
                  value=cat
                  selected=(filters && filters.category === cat)
                ) #{cat}

        div
          label(class="block text-xs font-black text-gray-400 uppercase mb-2") Từ ngày
          input(
            type="date"
            name="startDate"
            value=(filters && filters.startDate)
            class="w-full p-3 rounded-xl border border-gray-200 font-bold outline-none"
          )

        div
          label(class="block text-xs font-black text-gray-400 uppercase mb-2") Đến ngày
          input(
            type="date"
            name="endDate"
            value=(filters && filters.endDate)
            class="w-full p-3 rounded-xl border border-gray-200 font-bold outline-none"
          )

        div
          button(
            type="submit"
            class="w-full bg-[#00b14f] text-white font-black py-4 rounded-xl hover:bg-[#009643] transition-all shadow-lg shadow-green-200 active:scale-[0.98]"
          ) TÌM KIẾM NGAY

      //- ===== SEARCH RESULTS =====
      div(class="mt-12 grid grid-cols-1 md:grid-cols-3 gap-8")
        if events && events.length
          each event in events
            div(
              class="bg-white rounded-3xl overflow-hidden border border-gray-100 shadow-sm hover:shadow-xl transition-all group"
            )
              a(href=`/event/${event.id}` class="block")
                div(class="relative h-48 overflow-hidden")
                  img(
                    src=event.image
                    class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
                  )
                div(class="p-6")
                  h3(class="text-lg font-bold text-gray-900 mb-2 line-clamp-1 group-hover:text-[#00b14f] transition-colors") #{event.title}
                  p(class="text-gray-500 text-xs mb-4") #{event.location}
                  div(class="flex items-center justify-between")
                    span(class="text-[#00b14f] font-black")
                      if event.price > 0
                        | #{event.price.toLocaleString('vi-VN')}đ
                      else
                        | Miễn phí
                    span(class="text-gray-400 font-bold text-xs group-hover:translate-x-1 transition-transform") Chi tiết →
        else
          div(class="col-span-full py-20 text-center text-gray-400 bg-gray-50 rounded-3xl border-2 border-dashed") 
            p Không tìm thấy sự kiện nào phù hợp với bộ lọc.